import { symbols } from '@adonisjs/auth';
import { AuthClientResponse, GuardContract } from '@adonisjs/auth/types';
import type { HttpContext } from '@adonisjs/core/http';
import { JwtUserProviderContract, JwtGuardOptions } from './types.js';
export declare class JwtGuard<UserProvider extends JwtUserProviderContract<unknown>> implements GuardContract<UserProvider[typeof symbols.PROVIDER_REAL_USER]> {
    #private;
    constructor(ctx: HttpContext, userProvider: UserProvider, option: JwtGuardOptions<UserProvider[typeof symbols.PROVIDER_REAL_USER]>);
    /**
     * A list of events and their types emitted by
     * the guard.
     */
    [symbols.GUARD_KNOWN_EVENTS]: {};
    /**
     * A unique name for the guard driver
     */
    driverName: 'jwt';
    /**
     * A flag to know if the authentication was an attempt
     * during the current HTTP request
     */
    authenticationAttempted: boolean;
    /**
     * A boolean to know if the current request has
     * been authenticated
     */
    isAuthenticated: boolean;
    /**
     * Reference to the currently authenticated user
     */
    user?: UserProvider[typeof symbols.PROVIDER_REAL_USER] & {
        currentToken: string;
    };
    /**
     * Generate a JWT token for a given user.
     */
    generate(user: UserProvider[typeof symbols.PROVIDER_REAL_USER]): Promise<import("@adonisjs/core/http").Response | {
        type: string;
        token: string;
        expiresIn: number | import("ms").StringValue | undefined;
    }>;
    /**
     * Authenticate the current HTTP request and return
     * the user instance if there is a valid JWT token
     * or throw an exception
     */
    authenticate(): Promise<UserProvider[typeof symbols.PROVIDER_REAL_USER] & {
        currentToken: string;
    }>;
    authenticateWithRefreshToken(name?: string): Promise<UserProvider[typeof symbols.PROVIDER_REAL_USER] & {
        currentToken: string;
    }>;
    /**
     * Same as authenticate, but does not throw an exception
     */
    check(): Promise<boolean>;
    /**
     * Returns the authenticated user or throws an error
     */
    getUserOrFail(): UserProvider[typeof symbols.PROVIDER_REAL_USER] & {
        currentToken: string;
    };
    /**
     * This method is called by Japa during testing when "loginAs"
     * method is used to login the user.
     */
    authenticateAsClient(user: UserProvider[typeof symbols.PROVIDER_REAL_USER]): Promise<AuthClientResponse>;
}
